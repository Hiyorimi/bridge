(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{501:function(e,t,n){var content=n(828);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(97).default)("022e4fd4",content,!0,{sourceMap:!1})},503:function(e,t,n){var content=n(831);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(97).default)("2a25185e",content,!0,{sourceMap:!1})},518:function(e,t){},520:function(e,t){},523:function(e,t){},528:function(e,t){},578:function(e,t){},602:function(e,t){},604:function(e,t){},675:function(e,t){},677:function(e,t){},710:function(e,t){},715:function(e,t){},717:function(e,t){},724:function(e,t){},737:function(e,t){},765:function(e,t){},773:function(e,t){},775:function(e,t){},824:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address[]","name":"initialSet","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"int256","name":"oracleSetHash","type":"int256"},{"indexed":false,"internalType":"address[]","name":"newOracles","type":"address[]"}],"name":"NewOracleSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"int8","name":"to_wc","type":"int8"},{"indexed":true,"internalType":"bytes32","name":"to_addr_hash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SwapEthToTon","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"int8","name":"workchain","type":"int8"},{"indexed":true,"internalType":"bytes32","name":"ton_address_hash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"ton_tx_hash","type":"bytes32"},{"indexed":false,"internalType":"uint64","name":"lt","type":"uint64"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SwapTonToEth","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"allowBurn","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"addr","type":"tuple"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"addr","type":"tuple"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"digest","type":"bytes32"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature","name":"sig","type":"tuple"}],"name":"checkSignature","outputs":[],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"finishedVotings","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFullOracleSet","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"newBurnStatus","type":"bool"},{"internalType":"int256","name":"nonce","type":"int256"}],"name":"getNewBurnStatusId","outputs":[{"internalType":"bytes32","name":"result","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"int256","name":"oracleSetHash","type":"int256"},{"internalType":"address[]","name":"set","type":"address[]"}],"name":"getNewSetId","outputs":[{"internalType":"bytes32","name":"result","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint64","name":"amount","type":"uint64"},{"components":[{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"address_","type":"tuple"},{"internalType":"bytes32","name":"tx_hash","type":"bytes32"},{"internalType":"uint64","name":"lt","type":"uint64"}],"internalType":"struct TonUtils.TonTxID","name":"tx","type":"tuple"}],"internalType":"struct TonUtils.SwapData","name":"data","type":"tuple"}],"name":"getSwapDataId","outputs":[{"internalType":"bytes32","name":"result","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isOracle","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"oraclesSet","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"receivedVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"}],"name":"unfinishedVotings","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint64","name":"amount","type":"uint64"},{"components":[{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"address_","type":"tuple"},{"internalType":"bytes32","name":"tx_hash","type":"bytes32"},{"internalType":"uint64","name":"lt","type":"uint64"}],"internalType":"struct TonUtils.TonTxID","name":"tx","type":"tuple"}],"internalType":"struct TonUtils.SwapData","name":"data","type":"tuple"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature[]","name":"signatures","type":"tuple[]"}],"name":"voteForMinting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"oracleSetHash","type":"int256"},{"internalType":"address[]","name":"newOracles","type":"address[]"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature[]","name":"signatures","type":"tuple[]"}],"name":"voteForNewOracleSet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"newBurnStatus","type":"bool"},{"internalType":"int256","name":"nonce","type":"int256"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature[]","name":"signatures","type":"tuple[]"}],"name":"voteForSwitchBurn","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},827:function(e,t,n){"use strict";n(501)},828:function(e,t,n){var r=n(96),o=n(502),d=n(829),c=r(!1),l=o(d);c.push([e.i,".BridgeProcessor-cancel[data-v-6b131071],.BridgeProcessor-done[data-v-6b131071],.BridgeProcessor-getTonCoin[data-v-6b131071],.BridgeProcessor-transfer[data-v-6b131071]{-webkit-appearance:none;background-color:#1d98dc;border-radius:25px;color:#fff;font-size:16px;line-height:19px;border:none;padding:15px 35px 14px;margin-top:20px}.isPointer .BridgeProcessor-cancel[data-v-6b131071]:hover,.isPointer .BridgeProcessor-done[data-v-6b131071]:hover,.isPointer .BridgeProcessor-getTonCoin[data-v-6b131071]:hover,.isPointer .BridgeProcessor-transfer[data-v-6b131071]:hover,.isTouch .BridgeProcessor-cancel[data-v-6b131071]:active,.isTouch .BridgeProcessor-done[data-v-6b131071]:active,.isTouch .BridgeProcessor-getTonCoin[data-v-6b131071]:active,.isTouch .BridgeProcessor-transfer[data-v-6b131071]:active{background-color:#5fb8ea}.BridgeProcessor-infoWrapper[data-v-6b131071]{text-align:left;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:18px}@media (max-width:800px){.BridgeProcessor-infoWrapper[data-v-6b131071]{font-size:16px}}.BridgeProcessor-infoLine[data-v-6b131071]{margin-top:20px;display:flex;align-items:center}.BridgeProcessor-info-icon[data-v-6b131071]{flex-shrink:0}.BridgeProcessor-info-icon.done[data-v-6b131071]{width:18px;height:18px;background-image:url("+l+");background-size:contain;background-repeat:no-repeat;background-position:50%;margin-right:10px}.BridgeProcessor-info-icon.pending[data-v-6b131071]{width:12px;height:12px;border:3px solid #1d98dc;border-left-color:transparent;border-radius:50%;-webkit-animation:rotating-data-v-6b131071 2s linear infinite;animation:rotating-data-v-6b131071 2s linear infinite;margin-right:13px;margin-left:3px}.BridgeProcessor-info-icon.none[data-v-6b131071]{width:8px;height:8px;margin-left:4px;margin-right:14px;background-color:#1d98dc;border-radius:50%}.BridgeProcessor-info-text[data-v-6b131071] a{color:#1d98dc;text-decoration:underline}.isPointer .BridgeProcessor-info-text[data-v-6b131071] a:hover,.isTouch .BridgeProcessor-info-text[data-v-6b131071] a:active{text-decoration:none}.BridgeProcessor-info-text[data-v-6b131071] .note{margin-top:8px}@-webkit-keyframes rotating-data-v-6b131071{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rotating-data-v-6b131071{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),e.exports=c},829:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGVsbGlwc2Ugc3R5bGU9ImZpbGw6IzNCQjU0QTsiIGN4PSIyNTYiIGN5PSIyNTYiIHJ4PSIyNTYiIHJ5PSIyNTUuODMyIi8+Cjxwb2x5Z29uIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBwb2ludHM9IjIzNS40NzIsMzkyLjA4IDExNC40MzIsMjk3Ljc4NCAxNDguODQ4LDI1My42MTYgMjIzLjE3NiwzMTEuNTIgMzQ1Ljg0OCwxMzQuNTA0IAoJMzkxLjg4LDE2Ni4zOTIgIi8+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo="},830:function(e,t,n){"use strict";n(503)},831:function(e,t,n){var r=n(96),o=n(502),d=n(832),c=n(833),l=n(834),m=r(!1),h=o(d),y=o(c),f=o(l);m.push([e.i,".Bridge-testnetWarning[data-v-5492eadb]{position:absolute;left:0;top:0;color:#fff;width:100%;padding:8px 0;text-align:center;background:red;font-weight:700}.Bridge-content[data-v-5492eadb]{display:flex;flex-direction:column;align-items:center;padding:100px 40px 10px}@media (max-width:800px){.Bridge-content[data-v-5492eadb]{padding:48px 16px 10px}}.Bridge-img[data-v-5492eadb]{background-image:url("+h+');background-size:contain;background-repeat:no-repeat;background-position:50%;max-width:450px;width:100%;height:450px;transition:transform .15s ease-out;transform:scaleX(-1)}@media (max-width:800px){.Bridge-img[data-v-5492eadb]{height:300px}}.Bridge-img.isFromTon[data-v-5492eadb]{transform:none}.Bridge-form[data-v-5492eadb]{text-align:center;flex-direction:column;max-width:500px}.Bridge-form[data-v-5492eadb],.Bridge-switchers[data-v-5492eadb]{display:flex;align-items:center;width:100%}.Bridge-switchers[data-v-5492eadb]{flex-direction:row-reverse;margin-bottom:40px}.Bridge-switchers.isFromTon[data-v-5492eadb]{flex-direction:row}.Bridge-switcher[data-v-5492eadb]{position:relative;flex:1 0}.Bridge-switcherTitle[data-v-5492eadb]{position:relative;font-size:36px;font-weight:700;cursor:pointer;white-space:nowrap}@media (max-width:800px){.Bridge-switcherTitle[data-v-5492eadb]{font-size:22px}}.Bridge-switcherTitle.disabled[data-v-5492eadb]{cursor:default;pointer-events:none}.Bridge-switcherTitle span[data-v-5492eadb]{white-space:normal}.Bridge-switcherTitle em[data-v-5492eadb]{display:inline-block;vertical-align:5px;width:0;height:0;border-color:#000 transparent transparent;border-style:solid;border-width:10px 5px 0}.Bridge-switcherTitle:hover .Bridge-switcherList[data-v-5492eadb]{transition:opacity .15s ease-in-out;opacity:1;visibility:inherit}.Bridge-switcherAnno[data-v-5492eadb]{margin-top:4px;height:20px}.Bridge-switcherAnno a[data-v-5492eadb]{display:inline-block;color:#000;border-bottom:1px dotted #aaa}.isPointer .Bridge-switcherAnno a[data-v-5492eadb]:hover,.isTouch .Bridge-switcherAnno a[data-v-5492eadb]:active{border-bottom:1px dotted transparent}.Bridge-switcherAnno a[data-v-5492eadb]:after{content:"";display:inline-block;height:16px;width:16px;background-image:url('+y+');background-repeat:no-repeat;background-size:contain;background-position:0 3px}@media (max-width:800px){.Bridge-switcherAnno a[data-v-5492eadb]:after{display:none}}@media (max-width:800px){.Bridge-switcherAnno[data-v-5492eadb]{font-size:12px}}.Bridge-switcherList[data-v-5492eadb]{background:#fff;border-radius:16px;box-shadow:0 8px 24px rgba(48,55,87,.12);box-sizing:border-box;color:#303757;font-size:16px;left:-16px;line-height:20px;list-style-type:none;margin:0;padding:12px 24px;position:absolute;right:-16px;top:100%;word-break:break-word;white-space:normal;transition:all 0 ease-in-out;opacity:0;visibility:hidden}.Bridge-switcherList[data-v-5492eadb]:before{content:"";position:absolute;top:-20px;width:100%;left:0;height:20px}.Bridge-switcherList li button[data-v-5492eadb]{padding:10px 0;color:#303757;font-weight:700;cursor:pointer}.isPointer .Bridge-switcherList li button[data-v-5492eadb]:hover,.isTouch .Bridge-switcherList li button[data-v-5492eadb]:active{color:#1d98dc}.Bridge-switcher-arrow[data-v-5492eadb]{cursor:pointer;background-image:url('+f+");background-size:contain;background-repeat:no-repeat;background-position:50%;width:32px;height:32px;margin-left:16px;margin-right:16px}.Bridge-switcher-arrow[disabled][data-v-5492eadb]{cursor:default}.Bridge-inputWrapper[data-v-5492eadb]{width:100%}.Bridge-inputWrapper input[data-v-5492eadb]{line-height:36px;width:100%;max-width:500px;padding:8px;font-size:18px;border:1px solid #ccc;border-radius:8px;margin-top:8px;margin-bottom:20px;-webkit-appearance:none}.Bridge-inputWrapper input[disabled][data-v-5492eadb]{color:grey}.Bridge-pairFee[data-v-5492eadb]{color:#666;margin-bottom:4px}.Bridge-bridgeFee[data-v-5492eadb]{color:#666;margin-bottom:10px}.Bridge-footer[data-v-5492eadb]{margin-top:100px;text-align:center;font-size:12px;color:#666}.Bridge-footer a[data-v-5492eadb]{color:#666;text-decoration:underline}.isPointer .Bridge-footer a[data-v-5492eadb]:hover,.isTouch .Bridge-footer a[data-v-5492eadb]:active{text-decoration:none}",""]),e.exports=m},832:function(e,t,n){e.exports=n.p+"img/swap.b8b4b2f.svg"},833:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTUuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiCgkgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyIDEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJJY29ucyIgc3R5bGU9ImZpbGw6I2FhYTsiPgoJPGcgaWQ9ImV4dGVybmFsIj4KCQk8cG9seWdvbiBpZD0iYm94IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7IiBwb2ludHM9IjIsMiA1LDIgNSwzIDMsMyAzLDkgOSw5IDksNyAxMCw3IDEwLDEwIDIsMTAgCQkiLz4KCQk8cG9seWdvbiBpZD0iYXJyb3dfMTNfIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7IiBwb2ludHM9IjYuMjExLDIgMTAsMiAxMCw1Ljc4OSA4LjU3OSw0LjM2OCA2LjQ0Nyw2LjUKCQkJNS41LDUuNTUzIDcuNjMyLDMuNDIxIAkJIi8+Cgk8L2c+CjwvZz4KPGcgaWQ9Ikd1aWRlcyIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgo8L2c+Cjwvc3ZnPgo="},834:function(e,t,n){e.exports=n.p+"img/arrow.69e1e70.svg"},841:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n(173),d=(n(45),n(46),n(16),n(62),n(512),n(34),n(10),n(0)),c=n(514),l=n.n(c),m=(n(63),n(392)),h=n.n(m);function y(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function f(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.setRequestHeader("Cache-Control","no-store, max-age=0"),r.onload=function(e){4===r.readyState&&(200===r.status?t(r.responseText):n(r.statusText))},r.onerror=function(e){n(r.statusText)},r.send(null)}))}function v(e){return 1e9*e}function w(e){return e/1e9}function T(e){return parseInt(e[1],16)}function x(e){return"0x"+new h.a.utils.BN(e).toString(16)}var k={tonTransferUrl:"ton://transfer/<BRIDGE_ADDRESS>?amount=<AMOUNT>&text=swapTo%23<TO_ADDRESS>",networks:{eth:{main:{getGasUrl:"https://ethereumgas.toncenter.com",coinStatUrl:"https://etherscan.io/token/<ADDRESS>",wTonAddress:"0x582d872a1b094fc48f5de31d3b73f2d9be47def1",tonBridgeAddress:"Ef_dJMSh8riPi3BTUTtcxsWjG8RLKnLctNjAM4rw8NN-xWdr",tonCollectorAddress:"EQCuzvIOXLjH2tv35gY4tzhIvXCqZWDuK9kUhFGXKLImgxT5",tonMultisigAddress:"kf87m7_QrVM4uXAPCDM4DuF9Rj5Rwa5nHubwiQG96JmyAo-S",tonCenterUrl:"https://tonchain.co/api/v2/jsonRPC",ethChainId:1,blocksConfirmations:12,fallbackFeeTo:.004,fallbackFeeFrom:.001},test:{getGasUrl:"https://ethereumgas.toncenter.com",coinStatUrl:"https://ropsten.etherscan.io/token/<ADDRESS>",wTonAddress:"0x10922606e41e5b7Fcca21e773B00f0436D4F941F",tonBridgeAddress:"Ef_dJMSh8riPi3BTUTtcxsWjG8RLKnLctNjAM4rw8NN-xWdr",tonCollectorAddress:"UQCuzvIOXLjH2tv35gY4tzhIvXCqZWDuK9kUhFGXKLImg0k8",tonMultisigAddress:"kf8seQ2TAIJJHhKRm8c5vyV6oDxUtZgwlhRRgZSlWnJaS37k",tonCenterUrl:"https://testnet.toncenter.com/api/v2/jsonRPC",ethChainId:3,blocksConfirmations:12,fallbackFeeTo:.004,fallbackFeeFrom:.001}},bsc:{main:{getGasUrl:"https://gbsc.blockscan.com/gasapi.ashx?apikey=key&method=gasoracle",coinStatUrl:"https://bscscan.com/token/<ADDRESS>",wTonAddress:"0x76A797A59Ba2C17726896976B7B3747BfD1d220f",tonBridgeAddress:"Ef9NXAIQs12t2qIZ-sRZ26D977H65Ol6DQeXc5_gUNaUys5r",tonCollectorAddress:"EQAHI1vGuw7d4WG-CtfDrWqEPNtmUuKjKFEFeJmZaqqfWTvW",tonMultisigAddress:"kf8OvX_5ynDgbp4iqJIvWudSEanWo0qAlOjhWHtga9u2Yo7j",tonCenterUrl:"https://tonchain.co/api/v2/jsonRPC",ethChainId:56,blocksConfirmations:12,fallbackFeeTo:8e-4,fallbackFeeFrom:2e-4},test:{getGasUrl:"https://gbsc.blockscan.com/gasapi.ashx?apikey=key&method=gasoracle",coinStatUrl:"https://testnet.bscscan.com/token/<ADDRESS>",wTonAddress:"0xA345a7C8d88279165214f6dA6e857041902955C5",tonBridgeAddress:"Ef9NXAIQs12t2qIZ-sRZ26D977H65Ol6DQeXc5_gUNaUys5r",tonCollectorAddress:"EQAHI1vGuw7d4WG-CtfDrWqEPNtmUuKjKFEFeJmZaqqfWTvW",tonMultisigAddress:"0f-a7dEc5xG4x2sWIzfYMzUvtUEFkcPKmhY6bzEFh-Bib2Eu",tonCenterUrl:"https://testnet.toncenter.com/api/v2/jsonRPC",ethChainId:97,blocksConfirmations:12,fallbackFeeTo:8e-4,fallbackFeeFrom:2e-4}}}},B=(n(27),n(39),n(35),n(19),n(40),n(41),n(36),n(565),n(98),n(568),n(99),n(33),n(42),n(100),n(64),n(184),n(571)),C=n.n(B),S=n(824),I=n(835);function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){c=!0,o=e},f:function(){try{d||null==n.return||n.return()}finally{if(c)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var N=h.a.utils.BN,P=d.a.extend({props:{isTestnet:{type:Boolean,required:!0},isRecover:{type:Boolean,required:!0},lt:{type:Number,required:!0},hash:{type:String,required:!0},isFromTon:{type:Boolean,required:!0},pair:{type:String,required:!0},amount:{type:Number},toAddress:{type:String,required:!0}},data:function(){return{newBlockHeadersSubscription:null,updateStateInterval:null,provider:null,ethToTon:null,state:{swapId:"",queryId:"0",fromCurrencySent:!1,toCurrencySent:!1,step:0,votes:null,swapData:null,createTime:0,blockNumber:0}}},computed:{netTypeName:function(){return this.isTestnet?"test":"main"},params:function(){return k.networks[this.pair][this.netTypeName]},isGetTonCoinVisible:function(){return this.isFromTon&&!this.state.toCurrencySent&&4===this.state.step},isDoneVisible:function(){return this.state.step>4},isCancelVisible:function(){return this.isFromTon&&1===this.state.step},fromCoin:function(){return this.isFromTon?this.$t("Bridge.networks.ton.".concat(this.netTypeName,".coinShort")):this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".coinShort"))},toCoin:function(){return this.isFromTon?this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".coinShort")):this.$t("Bridge.networks.ton.".concat(this.netTypeName,".coinShort"))},toNetwork:function(){var e=this.isFromTon?this.pair:"ton";return this.$t("Bridge.networks.".concat(e,".").concat(this.netTypeName,".name"))},getStepInfoText1:function(){if(1===this.state.step){if(this.isFromTon){var e=k.tonTransferUrl.replace("<BRIDGE_ADDRESS>",this.params.tonBridgeAddress).replace("<AMOUNT>",String(v(this.amount))).replace("<TO_ADDRESS>",this.toAddress);return this.$t("Bridge.networks.ton.transactionSend").replace("<AMOUNT>",String(this.amount)).replace("<FROM_COIN>",this.fromCoin).replace("<URL>",e)}return this.state.fromCurrencySent?this.$t("Bridge.networks.".concat(this.pair,".transactionWait")):this.$t("Bridge.networks.".concat(this.pair,".transactionSend"))}var t=this.isFromTon?"ton":this.pair;return this.$t("Bridge.networks.".concat(t,".transactionCompleted"))},getStepInfoText2:function(){var e;if(this.isFromTon)return"";if(2===this.state.step){var t=((null===(e=this.provider)||void 0===e?void 0:e.blockNumber)||this.state.blockNumber)-this.state.blockNumber;return t=Math.min(t,this.params.blocksConfirmations),this.$t("Bridge.networks.".concat(this.pair,".blocksConfirmations")).replace("<COUNT>",String(t)+"/"+String(this.params.blocksConfirmations))}return this.state.step>2?this.$t("Bridge.blocksConfirmationsCollected"):this.$t("Bridge.blocksConfirmationsWaiting")},getStepInfoText3:function(){var e,t;if(3===this.state.step){var n=((null===(e=this.state.votes)||void 0===e?void 0:e.length)||0)+"/"+((null===(t=this.provider)||void 0===t?void 0:t.oraclesTotal)||0);return this.$t("Bridge.oraclesConfirmations").replace("<COUNT>",String(n))}return this.state.step>3?this.$t("Bridge.oraclesConfirmationsCollected"):this.$t("Bridge.oraclesConfirmationsWaiting")},getStepInfoText4:function(){return 4===this.state.step?this.isFromTon?this.state.toCurrencySent?this.$t("Bridge.networks.".concat(this.pair,".transactionWait")):this.$t("Bridge.getCoinsByMetamask").replace("<TO_COIN>",this.toCoin):this.$t("Bridge.coinsSent").replace("<TO_COIN>",this.toCoin):this.state.step>4?this.$t("Bridge.coinsSent").replace("<TO_COIN>",this.toCoin):"Get "+this.toCoin+"s in "+this.toNetwork}},watch:{"state.step":{immediate:!0,handler:function(e){this.$emit("state-changed"),this.$emit("interface-blocked",e>0)}}},mounted:function(){this.updateState(),this.updateStateInterval=setInterval(this.updateState,5e3)},beforeDestroy:function(){clearInterval(this.updateStateInterval),this.newBlockHeadersSubscription&&this.newBlockHeadersSubscription.unsubscribe();var e=window.ethereum;e&&e.removeListener("accountsChanged",this.onAccountChanged)},methods:{resetState:function(){this.state.swapId="",this.state.queryId="0",this.state.fromCurrencySent=!1,this.state.toCurrencySent=!1,this.state.step=0,this.state.votes=null,this.state.swapData=null,this.state.createTime=0,this.state.blockNumber=0,this.$emit("reset-state")},loadState:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.initProvider();case 4:if(t.provider=n.sent,t.provider){n.next=7;break}return n.abrupt("return");case 7:return Object.assign(t.state,e),n.next=10,t.updateState();case 10:case"end":return n.stop()}}),n)})))()},saveState:function(){this.$emit("save-state",this.state)},deleteState:function(){this.$emit("delete-state")},updateState:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.state.step||!e.isFromTon){t.next=5;break}return t.next=3,e.getSwap(e.amount,e.toAddress,e.state.createTime);case 3:(r=t.sent)&&(e.state.swapId=e.getSwapTonToEthId(e.provider.web3,r),e.state.swapData=r,e.state.step=3);case 5:if(2!==e.state.step||e.isFromTon){t.next=15;break}if(!(((null===(n=e.provider)||void 0===n?void 0:n.blockNumber)||e.state.blockNumber)-e.state.blockNumber>e.params.blocksConfirmations)){t.next=15;break}return t.next=10,e.provider.web3.eth.getBlock(e.state.blockNumber);case 10:o=t.sent,e.ethToTon.blockTime=Number(o.timestamp),e.ethToTon.blockHash=o.hash,e.state.queryId=e.getQueryId(e.ethToTon).toString(),e.state.step=3;case 15:if(3!==e.state.step){t.next=27;break}if(!e.isFromTon){t.next=22;break}return t.next=19,e.getEthVote(e.state.swapId);case 19:t.t0=t.sent,t.next=25;break;case 22:return t.next=24,e.getTonVote(e.state.queryId);case 24:t.t0=t.sent;case 25:e.state.votes=t.t0,e.state.votes&&e.state.votes.length>=2*e.provider.oraclesTotal/3&&(e.state.step=e.isFromTon?4:5);case 27:case"end":return t.stop()}}),t)})))()},getSwapTonToEthId:function(e,t){var n;return"eth"===this.pair&&(n=e.eth.abi.encodeParameters(["int","address","uint256","int8","bytes32","bytes32","uint64"],[55930,t.receiver,t.amount,t.tx.address_.workchain,t.tx.address_.address_hash,t.tx.tx_hash,t.tx.lt])),"bsc"===this.pair&&(n=e.eth.abi.encodeParameters(["int","address","address","uint256","int8","bytes32","bytes32","uint64"],[55930,this.params.wTonAddress,t.receiver,t.amount,t.tx.address_.workchain,t.tx.address_.address_hash,t.tx.tx_hash,t.tx.lt])),C.a.utils.sha3(n)},serializeEthToTon:function(e){var t=new h.a.boc.BitString(608);return t.writeUint(0,8),t.writeUint(new N(e.transactionHash.substr(2),16),256),t.writeInt(e.logIndex,16),t.writeUint(e.to.workchain,8),t.writeUint(new N(e.to.address_hash,16),256),t.writeUint(new N(e.value),64),t.array},getQueryId:function(e){var t=e.blockTime+2592e3+2,n=C.a.utils.sha3(e.blockHash+"_"+e.transactionHash+"_"+String(e.logIndex)).substr(2,8);return new N(t).mul(new N(4294967296)).add(new N(n,16))},getFeeAmount:function(e){var t=new N(e).sub(this.provider.feeFlat).mul(this.provider.feeFactor).div(this.provider.feeBase);return this.provider.feeFlat.add(t)},makeAddress:function(address){if(!address.startsWith("0x"))throw new Error("Invalid address "+address);for(var e=address.substr(2);e.length<40;)e="0"+e;return"0x"+e},getSwap:function(e,t,n){var o=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var d,c,l,m,y,f,v,w,T,x,k,B,C,S,I;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("getTransactions",o.params.tonBridgeAddress,o.lt&&o.hash?1:o.isRecover?200:40,o.lt||void 0,o.hash||void 0,void 0,!(!o.lt||!o.hash)||void 0),r.next=3,o.provider.tonweb.provider.getTransactions(o.params.tonBridgeAddress,o.lt&&o.hash?1:o.isRecover?200:40,o.lt||void 0,o.hash||void 0,void 0,!(!o.lt||!o.hash)||void 0);case 3:d=r.sent,console.log("ton txs",d.length),c=function(e){if(!e)return null;var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(""===r.destination)return r}}catch(e){n.e(e)}finally{n.f()}return null},l=_(d),r.prev=7,l.s();case 9:if((m=l.n()).done){r.next=32;break}if(y=m.value,!(f=c(y.out_msgs))){r.next=30;break}if(o.isRecover||o.lt&&o.hash){r.next=16;break}if(!(1e3*y.utime<n)){r.next=16;break}return r.abrupt("continue",30);case 16:if(v=f.message.substr(0,f.message.length-1),28===(w=h.a.utils.base64ToBytes(v)).length){r.next=20;break}return r.abrupt("continue",30);case 20:if(T=o.makeAddress("0x"+h.a.utils.bytesToHex(w.slice(0,20))),x=h.a.utils.bytesToHex(w.slice(20,28)),k=new N(x,16),B=new h.a.utils.Address(y.in_msg.source),C={type:"SwapTonToEth",receiver:T,amount:k.toString(),tx:{address_:{workchain:B.wc,address_hash:"0x"+h.a.utils.bytesToHex(B.hashPart)},tx_hash:"0x"+h.a.utils.bytesToHex(h.a.utils.base64ToBytes(y.transaction_id.hash)),lt:y.transaction_id.lt}},console.log(JSON.stringify(C)),S=new N(1e9*e),I=S.sub(o.getFeeAmount(S)),!k.eq(I)||C.receiver.toLowerCase()!==t.toLowerCase()){r.next=30;break}return r.abrupt("return",C);case 30:r.next=9;break;case 32:r.next=37;break;case 34:r.prev=34,r.t0=r.catch(7),l.e(r.t0);case 37:return r.prev=37,l.f(),r.finish(37);case 40:return r.abrupt("return",null);case 41:case"end":return r.stop()}}),r,null,[[7,34,37,40]])})))()},parseEthSignature:function(data){var e=data.tuple.elements,t=this.makeAddress(x(e[0].number.number)),n=e[1].tuple.elements;return{publicKey:t,r:x(n[0].number.number),s:x(n[1].number.number),v:Number(n[2].number.number)}},getEthVote:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("getEthVote ",e),n.next=3,t.provider.tonweb.provider.call(t.params.tonCollectorAddress,"get_external_voting_data",[["num",e]]);case 3:if(309!==(r=n.sent).exit_code){n.next=6;break}return n.abrupt("return",null);case 6:n.prev=6,o=r.stack[0][1].elements,n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(6),console.log("getEthVote, corrupted result",r),n.abrupt("return",null);case 14:return d={signatures:o.map(t.parseEthSignature)},n.abrupt("return",d.signatures);case 16:case"end":return n.stop()}}),n,null,[[6,10]])})))()},getTonVote:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,a,b,o,d,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("getTonVote ",e),n.next=3,t.provider.tonweb.provider.call(t.params.tonMultisigAddress,"get_query_state",[["num",e]]);case 3:r=n.sent,n.prev=4,a=T(r.stack[0]),b=T(r.stack[1]),n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(4),console.log("getTonVote, corrupted result",r),n.abrupt("return",null);case 13:for(console.log("getTonVote",r,a,b),o=[],d=-1===a?t.provider.oraclesTotal:b.toString(2).split("0").join("").length,i=0;i<d;i++)o.push(1);return n.abrupt("return",o);case 18:case"end":return n.stop()}}),n,null,[[4,9]])})))()},mint:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(r=e.state.votes.map((function(e){return{signer:e.publicKey,signature:I.a.utils.joinSignature({r:e.r,s:e.s,v:e.v})}}))).sort((function(a,b){return new N(a.signer.substr(2),16).cmp(new N(b.signer.substr(2),16))})),console.log("voteForMinting",JSON.stringify(e.state.swapData),JSON.stringify(r)),t.next=6,e.provider.wtonContract.methods.voteForMinting(e.state.swapData,r).send({from:e.provider.myEthAddress}).on("transactionHash",(function(){e.state.toCurrencySent=!0,e.deleteState()}));case 6:n=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 13:n.status?(e.state.step=5,e.deleteState()):console.error("transaction fail",n);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},burn:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,d,c,l,m,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.provider.myEthAddress,r=e.toAddress,o=e.amount,d=new h.a.utils.Address(r),c=d.wc,l=h.a.utils.bytesToHex(d.hashPart),m=v(o),t.prev=7,t.next=10,e.provider.wtonContract.methods.burn(m,{workchain:c,address_hash:"0x"+l}).send({from:n}).on("transactionHash",(function(){e.state.fromCurrencySent=!0}));case 10:y=t.sent,t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(7),console.error(t.t0),e.resetState(),t.abrupt("return");case 18:y.status?(console.log("receipt",y),e.state.blockNumber=y.blockNumber,e.ethToTon={transactionHash:y.transactionHash,logIndex:y.events.SwapEthToTon.logIndex,blockNumber:e.state.blockNumber,blockTime:0,blockHash:"",from:n,to:{workchain:c,address_hash:l},value:m},e.state.step=2):console.error("transaction fail",y);case 19:case"end":return t.stop()}}),t,null,[[7,13]])})))()},onDoneClick:function(){this.resetState()},onCancelClick:function(){this.deleteState(),this.resetState()},onAccountChanged:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var address;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("accountsChanged",e),address=e[0],t.provider){n.next=4;break}return n.abrupt("return");case 4:return n.t0=N,n.next=7,t.provider.web3.eth.getBalance(address);case 7:if(n.t1=n.sent,new n.t0(n.t1).gt(new N("0"))){n.next=11;break}return alert(t.$t("Bridge.networks.".concat(t.pair,".errors.lowBalance"))),n.abrupt("return");case 11:t.provider.myEthAddress=address,console.log("address is",t.provider.myEthAddress);case 13:case"end":return n.stop()}}),n)})))()},initProvider:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,d,c,l,m,y,f,v,w,x,k,B;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.ethereum){t.next=6;break}return alert(e.$t("Bridge.errors.installMetamask")),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,n.send("eth_requestAccounts");case 9:o=t.sent.result,r=o[0],console.log("address is",r),t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(6),console.log(t.t0),t.abrupt("return",null);case 18:if(n.addListener("accountsChanged",e.onAccountChanged),n.networkVersion===String(e.params.ethChainId)){t.next=23;break}return d=e.$t("Bridge.errors.wrongMetamaskNetwork").replace("<NETWORK>",e.$t("Bridge.networks.".concat(e.pair,".").concat(e.netTypeName,".full"))),alert(d),t.abrupt("return",null);case 23:return c=new C.a(n),l=new c.eth.Contract(S,e.params.wTonAddress),t.next=27,l.methods.getFullOracleSet().call();case 27:if((m=t.sent.length)>0){t.next=30;break}return t.abrupt("return",null);case 30:return t.t1=N,t.next=33,c.eth.getBalance(r);case 33:if(t.t2=t.sent,new t.t1(t.t2).gt(new N("0"))){t.next=37;break}return alert(e.$t("Bridge.networks.".concat(e.pair,".errors.lowBalance"))),t.abrupt("return",null);case 37:return e.newBlockHeadersSubscription=c.eth.subscribe("newBlockHeaders").on("data",(function(t){e.provider.blockNumber=t.number})).on("error",(function(e){console.error("Error on newBlockHeaders",e)})),y=new h.a(new h.a.HttpProvider(e.params.tonCenterUrl)),t.next=41,y.provider.call(e.params.tonBridgeAddress,"get_bridge_data",[]);case 41:if(8===(f=t.sent.stack).length){t.next=44;break}throw new Error("Invalid bridge data");case 44:return T(f[0]),T(f[1]),T(f[2]),f[3][1],v=new N(T(f[4])),w=new N(T(f[5])),x=new N(T(f[6])),k=new N(T(f[7])),B={blockNumber:0,myEthAddress:r,web3:c,wtonContract:l,tonweb:y,oraclesTotal:m,feeFlat:v.add(w),feeFactor:x,feeBase:k},t.abrupt("return",B);case 54:case"end":return t.stop()}}),t,null,[[6,14]])})))()},onTransferClick:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.amount)){t.next=3;break}return alert(e.$t("Bridge.errors.notValidAmount")),t.abrupt("return");case 3:if(!(e.amount<10)){t.next=6;break}return alert(e.$t("Bridge.errors.amountBelow10")),t.abrupt("return");case 6:if(e.toAddress.toLowerCase()!==e.params.wTonAddress.toLowerCase()&&e.toAddress.toLowerCase()!==e.params.tonBridgeAddress.toLowerCase()){t.next=9;break}return alert(e.$t("Bridge.errors.needPersonalAddress")),t.abrupt("return");case 9:if(!e.isFromTon){t.next=15;break}if(C.a.utils.isAddress(e.toAddress)){t.next=13;break}return alert(e.$t("Bridge.networks.".concat(e.pair,".errors.invalidAddress"))),t.abrupt("return");case 13:t.next=18;break;case 15:if(h.a.utils.Address.isValid(e.toAddress)){t.next=18;break}return alert(e.$t("Bridge.networks.ton.errors.invalidAddress")),t.abrupt("return");case 18:if(e.provider){t.next=24;break}return t.next=21,e.initProvider();case 21:if(e.provider=t.sent,e.provider){t.next=24;break}return t.abrupt("return");case 24:if(e.isFromTon){t.next=35;break}return t.t0=w,t.t1=Number,t.next=29,e.provider.wtonContract.methods.balanceOf(e.provider.myEthAddress).call();case 29:if(t.t2=t.sent,t.t3=(0,t.t1)(t.t2),n=(0,t.t0)(t.t3),!(e.amount>n)){t.next=35;break}return alert(e.$t("Bridge.errors.toncoinBalance").replace("<BALANCE>",String(n))),t.abrupt("return");case 35:if(e.state.createTime=Date.now(),e.state.step=1,!e.isFromTon){t.next=41;break}e.saveState(),t.next=43;break;case 41:return t.next=43,e.burn();case 43:case"end":return t.stop()}}),t)})))()}}}),F=(n(827),n(91)),M=Object(F.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BridgeProcessor"},[0===e.state.step?n("button",{staticClass:"BridgeProcessor-transfer",on:{click:e.onTransferClick}},[e._v(e._s(e.$t("Bridge.transfer")))]):n("div",{staticClass:"BridgeProcessor-infoWrapper"},[n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<1,pending:1===e.state.step,done:e.state.step>1}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text",domProps:{innerHTML:e._s(e.getStepInfoText1)}})]),e._v(" "),e.isFromTon?e._e():n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<2,pending:2===e.state.step,done:e.state.step>2}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text",domProps:{innerHTML:e._s(e.getStepInfoText2)}})]),e._v(" "),n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<3,pending:3===e.state.step,done:e.state.step>3}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text",domProps:{innerHTML:e._s(e.getStepInfoText3)}})]),e._v(" "),n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<4,pending:4===e.state.step,done:e.state.step>4}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text",domProps:{innerHTML:e._s(e.getStepInfoText4)}})])]),e._v(" "),e.isGetTonCoinVisible?n("button",{staticClass:"BridgeProcessor-getTonCoin",on:{click:e.mint}},[e._v(e._s(e.$t("Bridge.getToncoin")))]):e._e(),e._v(" "),e.isDoneVisible?n("button",{staticClass:"BridgeProcessor-done",on:{click:e.onDoneClick}},[e._v(e._s(e.$t("Bridge.done")))]):e._e(),e._v(" "),e.isCancelVisible?n("button",{staticClass:"BridgeProcessor-cancel",on:{click:e.onCancelClick}},[e._v(e._s(e.$t("Bridge.cancel")))]):e._e()])}),[],!1,null,"6b131071",null).exports,L=["eth","bsc"],j=d.a.extend({components:{BridgeProcessor:M},head:function(){return{title:this.$t("Bridge.networks.".concat(this.pair,".pageTitle"))}},data:function(){return{getPairGasFee__debounced:function(){},gasPrice:0,isTestnet:!1,isRecover:!1,lt:0,hash:"",isFromTon:!0,pair:"eth",amountInner:"",toAddress:"",isInterfaceBlocked:!1}},computed:{netTypeName:function(){return this.isTestnet?"test":"main"},params:function(){return k.networks[this.pair][this.netTypeName]},tonNetworkName:function(){return this.$t("Bridge.networks.ton.".concat(this.netTypeName,".name"))},tonNetworkCoin:function(){return this.$t("Bridge.networks.ton.".concat(this.netTypeName,".coin"))},pairNetworkName:function(){return this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".name"))},pairNetworkCoin:function(){return this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".coin"))},pairNetworkCoinUrl:function(){var e=this.params.coinStatUrl,address=this.params.wTonAddress;return e.replace("<ADDRESS>",address)},addressInputLabel:function(){var e=this.isFromTon?this.pair:"ton",t=this.$t("Bridge.networks.".concat(e,".").concat(this.netTypeName,".full"));return this.$t("Bridge.addressInputLabel").replace("<NETWORK>",t)},pairFee:function(){var e="";if(this.gasPrice>0){if("eth"===this.pair){var t=this.gasPrice/25;e=this.isFromTon?(.004*t).toFixed(4):(.001*t).toFixed(4)}if("bsc"===this.pair){var n=this.gasPrice/5;e=this.isFromTon?(8e-4*n).toFixed(4):(2e-4*n).toFixed(4)}}else e=String(this.isFromTon?this.params.fallbackFeeTo:this.params.fallbackFeeFrom);return this.$t("Bridge.networks.".concat(this.pair,".gasFee")).replace("<FEE>",e)},amount:{get:function(){var e=parseFloat(this.amountInner);return!e||isNaN(e)?0:e},set:function(e){this.amountInner=isNaN(e)?"":String(e)}},bridgeFee:function(){return!isNaN(this.amount)&&this.amount>=10?this.$t("Bridge.bridgeFeeAbove10").replace("<FEE>",String(5+.0025*(this.amount-5))):this.$t("Bridge.bridgeFeeBelow10")},fromPairs:function(){return L},toPairs:function(){var e=this;return["ton"].concat(Object(o.a)(L.filter((function(i){return i!==e.pair}))))}},watch:{isFromTon:function(){this.getPairGasFee__debounced()},pair:function(){this.getPairGasFee__debounced()},amount:function(){this.getPairGasFee__debounced()},toAddress:function(){this.getPairGasFee__debounced()}},created:function(){if(this.getPairGasFee__debounced=l()(this.getPairGasFee,100),this.$route.query.testnet&&(this.isTestnet="true"===this.$route.query.testnet.toLowerCase()),this.$route.query.recover&&(this.isRecover="true"===this.$route.query.recover.toLowerCase()),this.$route.query.lt){var e=parseInt(this.$route.query.lt,10);this.lt=!e||isNaN(e)?0:e}if(this.$route.query.HASH&&(this.hash=this.$route.query.hash),this.$route.query.amount){var t=parseFloat(this.$route.query.amount)/1e9;this.amount=!t||isNaN(t)?0:t}this.$route.query.toAddress&&(this.toAddress=this.$route.query.toAddress)},mounted:function(){this.getPairGasFee__debounced(),this.loadState()},methods:{onPairClick:function(e,t){this.isInterfaceBlocked||(e&&(this.isFromTon=!this.isFromTon),this.pair=t)},resetState:function(){this.isRecover=!1,this.lt=0,this.hash="",this.amountInner="",this.toAddress=""},loadState:function(){if(y){var e=localStorage.getItem("bridgeState");if(e){var t;try{t=JSON.parse(e)}catch(e){return}this.amount=t.amount,this.toAddress=t.toAddress,this.$refs.bridgeProcessor.loadState(t.processingState)}}},saveState:function(e){if(y){var t={amount:this.amount,toAddress:this.toAddress,processingState:e};localStorage.setItem("bridgeState",JSON.stringify(t))}},deleteState:function(){y&&localStorage.removeItem("bridgeState")},onInterfaceBlocked:function(e){this.isInterfaceBlocked=e},toggleFromTon:function(){this.isInterfaceBlocked||(this.isFromTon=!this.isFromTon)},getPairGasFee:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var data,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=JSON,t.next=4,f(e.params.getGasUrl);case 4:t.t1=t.sent,data=t.t0.parse.call(t.t0,t.t1),t.next=12;break;case 8:return t.prev=8,t.t2=t.catch(0),e.gasPrice=0,t.abrupt("return");case 12:"eth"===e.pair&&(n=parseFloat(data.average)/10,e.gasPrice=n>0?n:25),"bsc"===e.pair&&(r=parseFloat(data.result.SafeGasPrice),e.gasPrice=r>0?r:5);case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}}),D=(n(830),Object(F.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"Bridge"},[e.isTestnet?n("div",{staticClass:"Bridge-testnetWarning"},[e._v(e._s(e.$t("Bridge.testnet")))]):e._e(),e._v(" "),n("div",{staticClass:"Bridge-content"},[n("div",{staticClass:"Bridge-img",class:{isFromTon:e.isFromTon}}),e._v(" "),n("div",{staticClass:"Bridge-form"},[n("div",{key:e.isFromTon,staticClass:"Bridge-switchers",class:{isFromTon:e.isFromTon}},[n("div",{staticClass:"Bridge-switcher"},[n("div",{staticClass:"Bridge-switcherTitle",class:{disabled:e.isInterfaceBlocked}},[n("span",[e._v(e._s(e.tonNetworkName)+" ▾")]),e._v(" "),n("ul",{staticClass:"Bridge-switcherList"},e._l(e.fromPairs,(function(t){return n("li",{key:t,on:{click:function(n){return e.onPairClick(!0,t)}}},[n("button",[e._v(e._s(e.$t("Bridge.networks."+t+"."+e.netTypeName+".name")))])])})),0)]),e._v(" "),n("div",{staticClass:"Bridge-switcherAnno"},[e._v(e._s(e.tonNetworkCoin))])]),e._v(" "),n("button",{staticClass:"Bridge-switcher-arrow",attrs:{disabled:e.isInterfaceBlocked},on:{click:e.toggleFromTon}}),e._v(" "),n("div",{staticClass:"Bridge-switcher"},[n("div",{staticClass:"Bridge-switcherTitle",class:{disabled:e.isInterfaceBlocked}},[n("span",[e._v(e._s(e.pairNetworkName)+" ▾")]),e._v(" "),n("ul",{staticClass:"Bridge-switcherList"},e._l(e.toPairs,(function(t){return n("li",{key:t,on:{click:function(n){return e.onPairClick("ton"===t,"ton"===t?e.pair:t)}}},[n("button",[e._v(e._s(e.$t("Bridge.networks."+t+"."+e.netTypeName+".name")))])])})),0)]),e._v(" "),n("div",{staticClass:"Bridge-switcherAnno"},[n("a",{attrs:{href:e.pairNetworkCoinUrl,target:"_blank"}},[e._v(e._s(e.pairNetworkCoin))])])])]),e._v(" "),n("div",{staticClass:"Bridge-inputWrapper"},[n("label",{attrs:{for:"amountInput"}},[e._v(e._s(e.$t("Bridge.amountOfTon")))]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.amountInner,expression:"amountInner"}],attrs:{disabled:e.isInterfaceBlocked,type:"number",id:"amountInput"},domProps:{value:e.amountInner},on:{input:function(t){t.target.composing||(e.amountInner=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"Bridge-inputWrapper"},[n("label",{attrs:{for:"toInput",id:"toInputLabel"}},[e._v(e._s(e.addressInputLabel))]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.toAddress,expression:"toAddress"}],attrs:{disabled:e.isInterfaceBlocked,type:"text",id:"toInput"},domProps:{value:e.toAddress},on:{input:function(t){t.target.composing||(e.toAddress=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"Bridge-pairFee"},[e._v(e._s(e.pairFee))]),e._v(" "),n("div",{staticClass:"Bridge-bridgeFee"},[e._v(e._s(e.bridgeFee))]),e._v(" "),n("BridgeProcessor",{key:e.pair,ref:"bridgeProcessor",attrs:{"is-testnet":e.isTestnet,"is-recover":e.isRecover,lt:e.lt,hash:e.hash,"is-from-ton":e.isFromTon,pair:e.pair,amount:e.amount,"to-address":e.toAddress},on:{"interface-blocked":e.onInterfaceBlocked,"state-changed":e.getPairGasFee__debounced,"reset-state":e.resetState,"save-state":e.saveState,"delete-state":e.deleteState}}),e._v(" "),n("div",{staticClass:"Bridge-footer"},[e._v("\n                v2.0,\n                "),n("a",{attrs:{href:"https://github.com/newton-blockchain/newton-blockchain.github.io/tree/master/bridge",target:"_blank"}},[e._v(e._s(e.$t("Bridge.sourceCode")))]),e._v(",\n                "),n("a",{attrs:{href:"https://toncoin.org/how-it-works/bridge",target:"_blank"}},[e._v(e._s(e.$t("Bridge.howItWorks")))]),e._v(",\n                "),n("a",{attrs:{href:"https://github.com/newton-blockchain/TIPs/issues/24",target:"_blank"}},[e._v(e._s(e.$t("Bridge.documentation")))]),e._v(".\n            ")])],1)])])}),[],!1,null,"5492eadb",null));t.default=D.exports}}]);